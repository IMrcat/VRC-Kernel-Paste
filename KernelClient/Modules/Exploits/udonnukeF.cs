using System;
using KernelClient.Wrapper;
using ReMod.Core.UI.QuickMenu;
using UnityEngine;
using VRC.Udon;

namespace KernelClient.Modules.Exploits
{
	// Token: 0x020000AC RID: 172
	internal class udonnukeF : KernelModule
	{
		// Token: 0x06000499 RID: 1177 RVA: 0x0001AC88 File Offset: 0x00018E88
		public override void OnUiManagerInit()
		{
			ReMenuCategory category = MenuSetup._uiManager.QMMenu.GetCategoryPage(PageNames.Exploits).GetCategory(CatagoryNames.OtherExploits);
			category.AddToggle("Udon Nuke", "", delegate(bool b)
			{
				this.nukeudon = b;
				ToastNotif.Toast("Udon nuke " + this.nukeudon.ToString(), null, null, 5f);
			}, false, "");
		}

		// Token: 0x0600049A RID: 1178 RVA: 0x0001ACD8 File Offset: 0x00018ED8
		public override void OnUpdate()
		{
			bool flag = !this.nukeudon;
			if (!flag)
			{
				foreach (UdonBehaviour udonBehaviour in Object.FindObjectsOfType<UdonBehaviour>())
				{
					udonBehaviour.OnEnable();
					udonBehaviour.OnMouseDown();
					udonBehaviour.OnNetworkReady();
					udonBehaviour.OnCollisionEnter(null);
					udonBehaviour.OnCollisionExit(null);
					udonBehaviour.OnMouseUpAsButton();
					udonBehaviour.OnMouseEnter();
				}
			}
		}

		// Token: 0x04000321 RID: 801
		private bool nukeudon = false;
	}
}
